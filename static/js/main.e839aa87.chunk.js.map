{"version":3,"sources":["redux/dialogs-reducer.js","utils/object-helper.js","redux/users-reducer.js","api/api.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Navbar.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","components/Navbar/Navbar.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","updateObjectInArray","items","itemId","objPropName","newObjBool","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsersThunkCreator","page","dispatch","a","usersAPI","getUsers","data","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","usersReducer","followed","filter","instance","axios","withCredentials","baseURL","headers","get","then","response","post","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Header","props","className","s","header","loginBlock","isAuth","onClick","to","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","this","React","Component","connect","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","style","formSummaryError","lenght","stopSubmit","_error","formData","Navbar","navbar","activeClassName","active","INITIALIZED_SUCCESS","initialized","appReducer","sidebar","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","ReactLazy","fallback","Preloader","component","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","path","render","AppContainer","compose","withRouter","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","text","validate","module","exports","src","preloader","value","maxLenghtCreator","maxLenght","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","p","postId"],"mappings":"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","file":"static/js/main.e839aa87.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Ivan' },\r\n        { id: 2, name: 'Dima' },\r\n        { id: 3, name: 'Valera' }\r\n    ],\r\n\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Hi2' },\r\n        { id: 3, message: 'Hi3' },\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: 4, message: body }]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjBool) => { \r\n    return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjBool };\r\n    }\r\n    return u;\r\n  })\r\n}","import { usersAPI } from \"./../api/api\";\r\nimport { updateObjectInArray } from '../utils/object-helper'\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = 'setTotalUsersCountAC';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', { followed: true }),\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', { followed: false }),\r\n      };\r\n\r\n    case SET_USERS:\r\n      return { ...state, users: action.users };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage };\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.totalCount };\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unFollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, totalCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page))\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unFollowSuccess)\r\n  }\r\n}\r\n\r\nexport default usersReducer;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '905625c2-a62b-4415-a7ee-9977ec9c9786'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 5) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => { return response.data })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`, { withCredentials: true })\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css'\r\n\r\nconst Header = (props) => {\r\n    return(\r\n        <header className={s.header}>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth \r\n                ? <div>{props.login} - <button onClick={props.logout}>Log Out</button></div> \r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { stopSubmit } from 'redux-form';\r\nimport { authAPI } from '../api/api';\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  login: null,\r\n  email: null,\r\n  isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } });\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.me()\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    let message = response.data.messages.lenght > 0 ? response.data.messages[0] : 'Some error';\r\n    dispatch(stopSubmit('login', { _error: message }))\r\n  }\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout()\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"./../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(\r\n  HeaderContainer\r\n);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport {\r\n  Input,\r\n  createField,\r\n} from \"../../components/common/FormsControls/FormsControls\";\r\nimport { maxLenghtCreator, required } from \"../../utils/validators/validators\";\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport style from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n  //const maxLenght20 = maxLenghtCreator(20);\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        {createField(\"Email\", \"email\", [required], Input)}\r\n        {createField(\"Password\", \"password\", [required], Input, {\r\n          type: \"password\",\r\n        })}\r\n        {createField(\r\n          null,\r\n          \"rememberMe\",\r\n          null,\r\n          Input,\r\n          { type: \"checkbox\" },\r\n          \"remember me\"\r\n        )}\r\n        {error && <div className={style.formSummaryError}>{error}</div>}\r\n        <div>\r\n          <button>login</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst Login = props => {\r\n  const onSubmit = formData => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  };\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n    return(\r\n        <div className={s.navbar}>\r\n            <nav>\r\n                <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n                <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import { getAuthUserData } from './auth-reducer'\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccsess = () => ({ type: INITIALIZED_SUCCESS });\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccsess())\r\n    })\r\n};\r\n\r\n\r\nexport default appReducer;","let initialState = {\r\n    sidebar: {}\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const ReactLazy = (props) => {\r\n    return (\r\n        <Suspense fallback={<Preloader />}>\r\n            {props.component}\r\n        </Suspense>\r\n    )\r\n}","import React from \"react\";\nimport { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from \"./components/Login/Login\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/app-reducer';\nimport { withRouter } from \"react-router\";\nimport { compose } from \"redux\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/redux-store\";\nimport { ReactLazy } from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <div className=\"App\">\n        <HeaderContainer />\n        <div className=\"main-content\">\n          <Navbar />\n          <Route path=\"/profile/:userId?\" render={() => <ReactLazy component={<ProfileContainer />} />} />\n          <Route path=\"/dialogs\" render={() => <ReactLazy component={<DialogsContainer />} />} />\n          <Route path=\"/users\" render={() => <ReactLazy component={<UsersContainer />} />} />\n          <Route path=\"/login\" render={() => <Login />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nconst AppContainer = compose(withRouter, connect(mapStateToProps, { initializeApp }))(App);\n\nconst SamuraiJSApp = props => {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter >\n  )\n}\n\nexport default SamuraiJSApp;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport SamuraiJSApp from './App'\n\nReactDOM.render(<SamuraiJSApp />, document.getElementById(\"root\"));","import React from \"react\"\r\nimport s from './FormsControls.module.css'\r\nimport { Field } from \"redux-form\";\r\n\r\nconst FormControl = ({ input, meta: { touched, error }, children }) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => {\r\n    return (\r\n        <div>\r\n            <Field\r\n                validate={validators}\r\n                placeholder={placeholder}\r\n                name={name}\r\n                component={component}\r\n                {...props}\r\n            /> {text}\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__17IrT\",\"error\":\"FormsControls_error__18hhP\",\"formSummaryError\":\"FormsControls_formSummaryError__80l71\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__1vZr8\",\"active\":\"Navbar_active__2w5Sb\"};","export default __webpack_public_path__ + \"static/media/preloader.5fe29c19.svg\";","import React from 'react';\r\nimport preloader from './../../../assets/images/preloader.svg';\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","export const required = (value) => {\r\n    if (value) return undefined\r\n    return 'Filed is required'\r\n}\r\n\r\nexport const maxLenghtCreator = (maxLenght) => (value) => {\r\n    if (value.lenght > maxLenght) return `Max lenght is ${maxLenght} symbols`;\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Header_loginBlock__14fLq\"};","import { usersAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    post: [\r\n        { id: 1, post: 'Hi, how are you?', likesCount: 12 },\r\n        { id: 2, post: 'Second Post', likesCount: 124 }\r\n    ],\r\n\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3, post: action.newPostText, likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                post: [...state.post, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                post: state.post.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const deletePostAC = (postId) => ({ type: DELETE_POST, postId });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n        dispatch(setUserProfile(response.data));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) dispatch(setStatus(status));\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}